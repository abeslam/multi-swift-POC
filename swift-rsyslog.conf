# Uncomment the following to have a log containing all logs together
#local.* /var/log/swift/all.log

# Uncomment the following to have hourly swift logs.
#$template HourlyProxyLog,"/var/log/swift/hourly/%$YEAR%%$MONTH%%$DAY%%$HOUR%"
#local0.* ?HourlyProxyLog

# Use the following to have separate log files for each of the main servers:
# account-server, container-server, object-server, proxy-server. Note:
# object-updater's output will be stored in object.log.
#if $programname contains 'swift' then /var/log/swift/swift.log
#if $programname contains 'account' then /var/log/swift/account.log
#if $programname contains 'container' then /var/log/swift/container.log
#if $programname contains 'object' then /var/log/swift/object.log
#if $programname contains 'proxy' then /var/log/swift/proxy.log

# Uncomment the following to have specific log via program name.
#if $programname == 'swift' then /var/log/swift/swift.log
#if $programname == 'account-server' then /var/log/swift/account-server.log
#if $programname == 'account-replicator' then /var/log/swift/account-replicator.log
#if $programname == 'account-auditor' then /var/log/swift/account-auditor.log
#if $programname == 'account-reaper' then /var/log/swift/account-reaper.log
#if $programname == 'container-server' then /var/log/swift/container-server.log
#if $programname == 'container-replicator' then /var/log/swift/container-replicator.log
#if $programname == 'container-updater' then /var/log/swift/container-updater.log
#if $programname == 'container-auditor' then /var/log/swift/container-auditor.log
#if $programname == 'container-sync' then /var/log/swift/container-sync.log
#if $programname == 'object-server' then /var/log/swift/object-server.log
#if $programname == 'object-replicator' then /var/log/swift/object-replicator.log
#if $programname == 'object-updater' then /var/log/swift/object-updater.log
#if $programname == 'object-auditor' then /var/log/swift/object-auditor.log

# Use the following to discard logs that don't match any of the above to avoid
# them filling up /var/log/messages.
#local0.* ~

# Uncomment the following to have a log containing all logs together
#local1,local2,local3,local4,local5.*   /var/log/swift/all.log

# Uncomment the following to have hourly proxy logs for stats processing
#$template HourlyProxyLog,"/var/log/swift/hourly/%$YEAR%%$MONTH%%$DAY%%$HOUR%"
#local1.*;local1.!notice ?HourlyProxyLog

#local1.*;local1.!notice /var/log/swift/proxy.log
#local1.notice           /var/log/swift/proxy.error
#local1.*                ~

#local2.*;local2.!notice /var/log/swift/storage1.log
#local2.notice           /var/log/swift/storage1.error
#local2.*                ~

#local3.*;local3.!notice /var/log/swift/storage2.log
#local3.notice           /var/log/swift/storage2.error
#local3.*                ~

#local4.*;local4.!notice /var/log/swift/storage3.log
#local4.notice           /var/log/swift/storage3.error
#local4.*                ~

#local5.*;local5.!notice /var/log/swift/storage4.log
#local5.notice           /var/log/swift/storage4.error
#local5.*                ~

#local6.*;local6.!notice /var/log/swift/expirer.log
#local6.notice           /var/log/swift/expirer.error
#local6.*             

iModule (load="imudp")

Input (type="imudp" port="8180" ruleset="swift-mkt-proxy")
Input (type="imudp" port=["6110","6111","6112"] ruleset="swift-mkt-storage1")
Input (type="imudp" port=["6120","6121","6122"] ruleset="swift-mkt-storage2")
Input (type="imudp" port=["6130","6131","6132"] ruleset="swift-mkt-storage3")
Input (type="imudp" port=["6140","6141","6142"] ruleset="swift-mkt-storage4")
Input (type="imudp" port="8280" ruleset="swift-fin-proxy")
Input (type="imudp" port=["6210","6211","6212"] ruleset="swift-fin-storage1")
Input (type="imudp" port=["6220","6221","6222"] ruleset="swift-fin-storage2")
Input (type="imudp" port=["6230","6231","6232"] ruleset="swift-fin-storage3")
Input (type="imudp" port=["6240","6241","6242"] ruleset="swift-fin-storage4")

Ruleset(name="swift-mkt-proxy") {
Action (type="omfile" file="/var/log/swift-mkt/proxy.log")}

Ruleset(name="swift-mkt-storage1") {
Action (type="omfile" file="/var/log/swift-mkt/storage1.log")}

Ruleset(name="swift-mkt-storage2") {
Action (type="omfile" file="/var/log/swift-mkt/storage2.log")}

Ruleset(name="swift-mkt-storage3") {
Action (type="omfile" file="/var/log/swift-mkt/storage3.log")}

Ruleset(name="swift-mkt-storage4") {
Action (type="omfile" file="/var/log/swift-mkt/storage4.log")}

Ruleset(name="swift-fin-proxy") {
Action (type="omfile" file="/var/log/swift-fin/proxy.log")}

Ruleset(name="swift-fin-storage1") {
Action (type="omfile" file="/var/log/swift-fin/storage1.log")}

Ruleset(name="swift-fin-storage2") {
Action (type="omfile" file="/var/log/swift-fin/storage2.log")}

Ruleset(name="swift-fin-storage3") {
Action (type="omfile" file="/var/log/swift-fin/storage3.log")}

Ruleset(name="swift-fin-storage4") {
Action (type="omfile" file="/var/log/swift-fin/storage4.log")}
